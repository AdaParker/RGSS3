#==============================================================================
#  站在椅子上
#------------------------------------------------------------------------------
# *12/12/07  By:Cinderciella
#  通过对【椅子】图块设定地形标志6而让人物站在椅子上。
#  此外设定为7则对人物有稍微抬起效果，相当于稍高一点点的地形之类的，设定为7。
# *14/09/20
#  支持所有地图人物 by：VIPArcher
#==============================================================================
$VIPArcherScript ||= {};$VIPArcherScript[:chair_y] = 20140920
#--------------------------------------------------------------------------------
class Game_CharacterBase
  #--------------------------------------------------------------------------
  # ● 判定是否地图事件
  #--------------------------------------------------------------------------
  def event?
    self.is_a?(Game_Event)
  end
  #--------------------------------------------------------------------------
  # ● 设置站在椅子上的y调整
  #--------------------------------------------------------------------------
  def chair_y
    if event?
      return 0 if move_frequency == 5
      return moving? ? 0 : casetag
    else
      return casetag
    end
  end
  #--------------------------------------------------------------------------
  # ● 判断地形标志返回y调整值
  #--------------------------------------------------------------------------
  def casetag
    case self.terrain_tag
    when 6
      return 4
    when 7
      return 8
    else
      return 0
    end
  end
  #--------------------------------------------------------------------------
  # ● 获取画面 Y 坐标（加上椅子高度）
  #--------------------------------------------------------------------------
  alias vip20140919_screen_y screen_y
  def screen_y
    vip20140919_screen_y - chair_y
  end
end